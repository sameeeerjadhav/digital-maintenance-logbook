<div class="qr-scan">
  <h2>Scan Device QR</h2>

  <div id="qr-reader" class="qr-reader"></div>

  <div class="status">
    <div *ngIf="resolving">Resolving deviceâ€¦</div>
    <div class="alert error" *ngIf="!resolving && errorText">{{ errorText }}</div>
  </div>

  <div class="result" *ngIf="decodedText">
    <p><strong>Scanned payload:</strong> {{ decodedText }}</p>
  </div>

  <div class="match" *ngIf="matchedDevice">
    <h3>Matched Device</h3>
    <ul>
      <li><strong>ID:</strong> {{ matchedDevice.id }}</li>
      <li><strong>Name:</strong> {{ matchedDevice.deviceName }}</li>
      <li><strong>Serial:</strong> {{ matchedDevice.serialNumber }}</li>
      <li><strong>Lab:</strong> {{ matchedDevice.labName }}</li>
      <li><strong>Status:</strong> {{ matchedDevice.status }}</li>
    </ul>

    <div class="actions">
      <button class="secondary" (click)="goToViewDevice()">View Device</button>
      <button class="primary" (click)="goToAddLog()">Add Maintenance Log</button>
    </div>
  </div>

  <div class="controls">
    <button class="ghost" (click)="restart()">Restart Scanner</button>
  </div>
</div>
